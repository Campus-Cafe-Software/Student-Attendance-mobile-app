(function(e){function t(t){for(var c,o,a=t[0],i=t[1],u=t[2],l=0,d=[];l<a.length;l++)o=a[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c]);f&&f(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],c=!0,o=1;o<n.length;o++){var a=n[o];0!==r[a]&&(c=!1)}c&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var c={},o={app:0},r={app:0},s=[];function a(e){return i.p+"js/"+({"polyfills-core-js":"polyfills-core-js","polyfills-css-shim":"polyfills-css-shim","polyfills-dom":"polyfills-dom"}[e]||e)+"."+{"chunk-013061d2":"6a442b41","chunk-0149e7ec":"d4b9295c","chunk-022a7fbd":"86ee458d","chunk-06a7f5c0":"82a7ac44","chunk-09e1e8fb":"c40c9750","chunk-0f4297b0":"cb6077a0","chunk-1ab29a11":"c1bbc341","chunk-1dc7c1c5":"aec7c397","chunk-1fc2d15c":"b00eb923","chunk-26f4df71":"12b0ef66","chunk-2b966f81":"c936a921","chunk-2d0ac941":"af3c569f","chunk-2d0ae5e3":"0fb343b3","chunk-2d0b991b":"46dba048","chunk-2d0c0a6f":"813fbd2a","chunk-2d0c20a0":"52644a3c","chunk-2d208702":"d3c1a8a3","chunk-2d215cbc":"7798e364","chunk-2d225f0d":"940e839b","chunk-2d226d25":"9ebf833a","chunk-2d228901":"6db12069","chunk-2d22bf33":"48037ab4","chunk-2d2304d2":"87c1014f","chunk-2d2378b1":"8fb8cebf","chunk-304e7324":"d7aa312f","chunk-3135c405":"2a5b018d","chunk-343d842a":"b0a1a474","chunk-3582ae12":"66f1b925","chunk-3e61b606":"90e9e443","chunk-4abc2f07":"b9fa4100","chunk-4da1c3e4":"47e93ef4","chunk-52eabdec":"7887ff1d","chunk-5d875e1a":"25693f24","chunk-5db12fb6":"c702fc35","chunk-5f259812":"37916a33","chunk-60445926":"26c25c22","chunk-63f0a1ff":"0b873ef2","chunk-68d95220":"f133f88d","chunk-6b3808c8":"ad6b2f3c","chunk-6e1ebba7":"6b66ac7b","chunk-6f5ed6b2":"136e8f20","chunk-7299f250":"f5bea775","chunk-7857c4af":"5fcab7ad","chunk-7885c3cc":"2caacf24","chunk-7db91453":"00118a56","chunk-a115bba0":"32f4cf03","chunk-c602cac6":"6ec5aa88","chunk-cc885ef2":"fee24f95","chunk-e0927678":"bde67784","chunk-f01c37a2":"345e6b97","polyfills-core-js":"12be3461","polyfills-css-shim":"ea99bec5","polyfills-dom":"662760da","chunk-2d23088f":"188d856f","chunk-2d0ac1be":"221c9500","chunk-2d0c1234":"23dbafee","chunk-2d0ccb9d":"2491206c","chunk-2d0f0480":"6fa69961","chunk-2d20f346":"e0b3f8ba","chunk-2d217498":"72ba333c"}[e]+".js"}function i(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-f01c37a2":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var c="css/"+({"polyfills-core-js":"polyfills-core-js","polyfills-css-shim":"polyfills-css-shim","polyfills-dom":"polyfills-dom"}[e]||e)+"."+{"chunk-013061d2":"31d6cfe0","chunk-0149e7ec":"31d6cfe0","chunk-022a7fbd":"31d6cfe0","chunk-06a7f5c0":"31d6cfe0","chunk-09e1e8fb":"31d6cfe0","chunk-0f4297b0":"31d6cfe0","chunk-1ab29a11":"31d6cfe0","chunk-1dc7c1c5":"31d6cfe0","chunk-1fc2d15c":"31d6cfe0","chunk-26f4df71":"31d6cfe0","chunk-2b966f81":"31d6cfe0","chunk-2d0ac941":"31d6cfe0","chunk-2d0ae5e3":"31d6cfe0","chunk-2d0b991b":"31d6cfe0","chunk-2d0c0a6f":"31d6cfe0","chunk-2d0c20a0":"31d6cfe0","chunk-2d208702":"31d6cfe0","chunk-2d215cbc":"31d6cfe0","chunk-2d225f0d":"31d6cfe0","chunk-2d226d25":"31d6cfe0","chunk-2d228901":"31d6cfe0","chunk-2d22bf33":"31d6cfe0","chunk-2d2304d2":"31d6cfe0","chunk-2d2378b1":"31d6cfe0","chunk-304e7324":"31d6cfe0","chunk-3135c405":"31d6cfe0","chunk-343d842a":"31d6cfe0","chunk-3582ae12":"31d6cfe0","chunk-3e61b606":"31d6cfe0","chunk-4abc2f07":"31d6cfe0","chunk-4da1c3e4":"31d6cfe0","chunk-52eabdec":"31d6cfe0","chunk-5d875e1a":"31d6cfe0","chunk-5db12fb6":"31d6cfe0","chunk-5f259812":"31d6cfe0","chunk-60445926":"31d6cfe0","chunk-63f0a1ff":"31d6cfe0","chunk-68d95220":"31d6cfe0","chunk-6b3808c8":"31d6cfe0","chunk-6e1ebba7":"31d6cfe0","chunk-6f5ed6b2":"31d6cfe0","chunk-7299f250":"31d6cfe0","chunk-7857c4af":"31d6cfe0","chunk-7885c3cc":"31d6cfe0","chunk-7db91453":"31d6cfe0","chunk-a115bba0":"31d6cfe0","chunk-c602cac6":"31d6cfe0","chunk-cc885ef2":"31d6cfe0","chunk-e0927678":"31d6cfe0","chunk-f01c37a2":"06a7e791","polyfills-core-js":"31d6cfe0","polyfills-css-shim":"31d6cfe0","polyfills-dom":"31d6cfe0","chunk-2d23088f":"31d6cfe0","chunk-2d0ac1be":"31d6cfe0","chunk-2d0c1234":"31d6cfe0","chunk-2d0ccb9d":"31d6cfe0","chunk-2d0f0480":"31d6cfe0","chunk-2d20f346":"31d6cfe0","chunk-2d217498":"31d6cfe0"}[e]+".css",r=i.p+c,s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var u=s[a],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===c||l===r))return t()}var d=document.getElementsByTagName("style");for(a=0;a<d.length;a++){u=d[a],l=u.getAttribute("data-href");if(l===c||l===r)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var c=t&&t.target&&t.target.src||r,s=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=c,delete o[e],f.parentNode.removeChild(f),n(s)},f.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){o[e]=0})));var c=r[e];if(0!==c)if(c)t.push(c[2]);else{var s=new Promise((function(t,n){c=r[e]=[t,n]}));t.push(c[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=a(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=r[e];if(0!==n){if(n){var c=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+c+": "+o+")",d.name="ChunkLoadError",d.type=c,d.request=o,n[1](d)}r[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=c,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)i.d(n,c,function(t){return e[t]}.bind(null,c));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"07d4":function(e,t,n){},2002:function(e,t,n){"use strict";n("07d4")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23");function o(e,t,n,o,r,s){var a=Object(c["y"])("ion-router-outlet"),i=Object(c["y"])("ion-app");return Object(c["q"])(),Object(c["e"])(i,null,{default:Object(c["D"])((function(){return[Object(c["h"])(a)]})),_:1})}var r=n("8a30"),s=Object(c["i"])({name:"App",components:{IonApp:r["a"],IonRouterOutlet:r["m"]}});s.render=o;var a=s,i=Object(c["h"])("span",null,null,-1);function u(e,t,n,o,r,s){var a=Object(c["y"])("ion-back-button"),u=Object(c["y"])("ion-buttons"),l=Object(c["y"])("ion-icon"),d=Object(c["y"])("ion-button"),f=Object(c["y"])("ion-title"),h=Object(c["y"])("ion-toolbar"),b=Object(c["y"])("ion-header"),k=Object(c["y"])("ion-content"),g=Object(c["y"])("ion-page");return Object(c["q"])(),Object(c["e"])(g,null,{default:Object(c["D"])((function(){return[Object(c["h"])(b,null,{default:Object(c["D"])((function(){return[Object(c["h"])(h,null,{default:Object(c["D"])((function(){return["classList"==n.pageDefaultBackLink||"studentList"==n.pageDefaultBackLink?(Object(c["q"])(),Object(c["e"])(u,{key:0,slot:"start"},{default:Object(c["D"])((function(){return[Object(c["h"])(a,{"default-href":n.pageDefaultBackLink},null,8,["default-href"])]})),_:1})):Object(c["f"])("",!0),"login"==n.pageDefaultBackLink?(Object(c["q"])(),Object(c["e"])(u,{key:1,slot:"start"},{default:Object(c["D"])((function(){return[Object(c["h"])(d,{id:"changeText",onClick:t[1]||(t[1]=function(e){return s.logout()})},{default:Object(c["D"])((function(){return[Object(c["h"])(l,{slot:"start",icon:r.lockClosedOutline},null,8,["icon"])]})),_:1})]})),_:1})):Object(c["f"])("",!0),Object(c["h"])(f,{class:"ion-text-center"},{default:Object(c["D"])((function(){return[Object(c["g"])(Object(c["A"])(n.pageTitle),1)]})),_:1}),Object(c["h"])(u,{slot:"end"},{default:Object(c["D"])((function(){return[Object(c["x"])(e.$slots,"actions-end")]})),_:3}),"login"==n.pageDefaultBackLink?(Object(c["q"])(),Object(c["e"])(u,{key:2,slot:"end"},{default:Object(c["D"])((function(){return[Object(c["h"])(d,{id:"changeText",onClick:t[2]||(t[2]=function(e){return s.reload()})},{default:Object(c["D"])((function(){return[Object(c["h"])(l,{slot:"end",icon:r.refreshOutline},null,8,["icon"])]})),_:1})]})),_:1})):Object(c["f"])("",!0),"classList"==n.pageDefaultBackLink&&"Student Attendance"!=n.pageTitle?(Object(c["q"])(),Object(c["e"])(u,{key:3,slot:"end"},{default:Object(c["D"])((function(){return[Object(c["h"])(d,{id:"changeText",onClick:t[3]||(t[3]=function(e){return s.reloadStident()})},{default:Object(c["D"])((function(){return[Object(c["h"])(l,{slot:"end",icon:r.refreshOutline},null,8,["icon"])]})),_:1})]})),_:1})):Object(c["f"])("",!0),"login"!=n.pageDefaultBackLink&&"classList"!=n.pageDefaultBackLink?(Object(c["q"])(),Object(c["e"])(u,{key:4,slot:"end"},{default:Object(c["D"])((function(){return[Object(c["h"])(d,{id:"changeText"},{default:Object(c["D"])((function(){return[i]})),_:1})]})),_:1})):Object(c["f"])("",!0)]})),_:1})]})),_:1}),Object(c["h"])(k,null,{default:Object(c["D"])((function(){return[Object(c["x"])(e.$slots,"default")]})),_:3})]})),_:1})}n("d3b7"),n("96cf");var l=n("1da1"),d=n("ff79"),f=n("6c02"),h={props:["pageTitle","pageDefaultBackLink"],components:{IonPage:r["l"],IonHeader:r["f"],IonToolbar:r["o"],IonTitle:r["n"],IonContent:r["e"],IonBackButton:r["b"],IonButtons:r["d"],IonIcon:r["g"]},data:function(){return{lockClosedOutline:d["n"],refreshOutline:d["u"]}},setup:function(){var e=Object(f["f"])();return{router:e}},methods:{reload:function(){this.$parent.getRole()},reloadStident:function(){this.$parent.getStudents()},logout:function(){var e=this;this.$store.commit("addToken",""),this.$store.commit("addStudent",!1),this.$store.commit("addInstructor",!1),console.log("delete token -"+this.$store.getters.getToken+"-.");var t=localStorage.getItem("token"),n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}};fetch("/cafeweb/mobileApi/authenticate/logout",n).then(function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(n),localStorage.removeItem("token"),window.location.href="/cafeweb/mobile/";case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){e.errorMessage=t,console.error("There was an error!",t),localStorage.removeItem("token"),window.location.href="/cafeweb/mobile/"}))}}};h.render=u;var b=h,k=n("9f0e"),g=Object(c["E"])("data-v-216b8bcf");Object(c["t"])("data-v-216b8bcf");var m={style:{"font-weight":"bold"}},p={style:{"font-size":"14px"}},j=Object(c["h"])("h2",{style:{margin:"0px","margin-top":"10px"}},"Today",-1),O={style:{margin:"0px","margin-top":"0px","font-weight":"bold"}},y={style:{margin:"0px","margin-top":"0px","font-weight":"bold"}},v={key:1,style:{margin:"0px","margin-top":"10px","font-weight":"bold","padding-bottom":"10px",color:"red"}},T={style:{"font-size":"12px"}},C=Object(c["h"])("br",null,null,-1),w={key:0,style:{float:"right","font-size":"12px"}},I={key:1,style:{float:"right","font-size":"12px",color:"#f67d7d"}},S={key:0,style:{float:"right","font-size":"12px"}},D={key:1,style:{float:"right","font-size":"12px",color:"#f67d7d"}},x={style:{width:"100%"}},_={style:{"font-size":"12px"}},A=Object(c["h"])("br",null,null,-1),N={key:0};Object(c["r"])();var L=g((function(e,t,n,o,r,s){var a=Object(c["y"])("ion-spinner"),i=Object(c["y"])("ion-col"),u=Object(c["y"])("ion-row"),l=Object(c["y"])("ion-grid"),d=Object(c["y"])("ion-text"),f=Object(c["y"])("ion-icon"),h=(Object(c["y"])("ion-button"),Object(c["y"])("base-layout"));return Object(c["q"])(),Object(c["e"])(h,{"page-title":"Class Schedule","page-default-back-link":"login"},{default:g((function(){return[Object(c["h"])(l,null,{default:g((function(){return[Object(c["h"])(u,null,{default:g((function(){return[Object(c["h"])(i,{size:"12",style:{"text-align":"center"}},{default:g((function(){return[1==r.stillLoading?(Object(c["q"])(),Object(c["e"])(a,{key:0,color:"primary"})):Object(c["f"])("",!0),Object(c["h"])("h2",m,Object(c["A"])(r.userName),1),Object(c["h"])("h3",p,"ID: "+Object(c["A"])(r.userID),1),j,Object(c["h"])("h2",O,Object(c["A"])(r.currentTime),1),Object(c["h"])("h2",y,Object(c["A"])(r.currentDate),1),r.hasClass?Object(c["f"])("",!0):(Object(c["q"])(),Object(c["e"])("h2",v," No class found "))]})),_:1})]})),_:1})]})),_:1}),1==r.isStudent?(Object(c["q"])(),Object(c["e"])(l,{key:0},{default:g((function(){return[(Object(c["q"])(!0),Object(c["e"])(c["a"],null,Object(c["w"])(r.studentClasses,(function(e){return Object(c["q"])(),Object(c["e"])("div",{key:e.id},[void 0==e.courseNumber?(Object(c["q"])(),Object(c["e"])(u,{key:0,style:{background:"#a2a2a2",margin:"15px 10px"},class:"course-block"},{default:g((function(){return[Object(c["h"])(d,{style:{margin:"0px 5px 5px 5px"}},{default:g((function(){return[Object(c["h"])("span",T,Object(c["A"])(s.changeTimeTo12(e.start)),1),C,Object(c["h"])("span",null,Object(c["A"])(e.title),1)]})),_:2},1024)]})),_:2},1024)):Object(c["f"])("",!0),"Y"!=e.activeForClockInOut&&void 0!=e.courseNumber?(Object(c["q"])(),Object(c["e"])(u,{key:1,style:{background:"#727272",margin:"15px 10px"},class:"course-block",onClick:function(t){return o.router.push("/submitTime/".concat(e.courseNumber))}},{default:g((function(){return[Object(c["h"])(i,{size:"6",style:{float:"left","font-size":"12px"}},{default:g((function(){return[Object(c["g"])(Object(c["A"])(s.changeTimeTo12(e.start)),1)]})),_:2},1024),Object(c["h"])(i,{size:"6",style:{float:"right","font-size":"12px"}},{default:g((function(){return[e.clockHistory.length>0&&"Y"!=e.isAbsent?(Object(c["q"])(),Object(c["e"])("span",w,[Object(c["h"])("span",null,Object(c["A"])(s.changeTimeTo12(e.clockHistory[e.clockHistory.length-1].studentClockInDateTime))+" - ",1),Object(c["h"])("span",null,Object(c["A"])(s.changeTimeTo12(e.clockHistory[e.clockHistory.length-1].studentClockOutDateTime)),1)])):Object(c["f"])("",!0),"Y"==e.isAbsent?(Object(c["q"])(),Object(c["e"])("span",I," Absent ")):Object(c["f"])("",!0)]})),_:2},1024),Object(c["h"])(d,{style:{margin:"0px 5px 5px 5px"}},{default:g((function(){return[Object(c["h"])("span",null,Object(c["A"])(e.title),1),Object(c["h"])("span",null," ( "+Object(c["A"])(e.courseNumber)+" )",1)]})),_:2},1024)]})),_:2},1032,["onClick"])):Object(c["f"])("",!0),"Y"==e.activeForClockInOut&&void 0!=e.courseNumber?(Object(c["q"])(),Object(c["e"])(u,{key:2,style:{background:"#517fc8",margin:"15px 10px"},class:"course-block",onClick:function(t){return o.router.push("/submitTime/".concat(e.courseNumber))}},{default:g((function(){return[Object(c["h"])(i,{size:"6",style:{float:"left","font-size":"12px"}},{default:g((function(){return[Object(c["g"])(Object(c["A"])(s.changeTimeTo12(e.start)),1)]})),_:2},1024),Object(c["h"])(i,{size:"6",style:{float:"right","font-size":"12px"}},{default:g((function(){return[e.clockHistory.length>0&&"Y"!=e.isAbsent?(Object(c["q"])(),Object(c["e"])("span",S,[Object(c["h"])("span",null,Object(c["A"])(s.changeTimeTo12(e.clockHistory[e.clockHistory.length-1].studentClockInDateTime))+" - ",1),Object(c["h"])("span",null,Object(c["A"])(s.changeTimeTo12(e.clockHistory[e.clockHistory.length-1].studentClockOutDateTime)),1)])):Object(c["f"])("",!0),"Y"==e.isAbsent?(Object(c["q"])(),Object(c["e"])("span",D," Absent ")):Object(c["f"])("",!0)]})),_:2},1024),Object(c["h"])(d,{style:{margin:"0px 5px 5px 5px"}},{default:g((function(){return[Object(c["h"])("span",x,Object(c["A"])(e.title)+" ( "+Object(c["A"])(e.courseNumber)+" )",1)]})),_:2},1024)]})),_:2},1032,["onClick"])):Object(c["f"])("",!0)])})),128))]})),_:1})):Object(c["f"])("",!0),1!=r.isStudent?(Object(c["q"])(),Object(c["e"])(l,{key:1},{default:g((function(){return[(Object(c["q"])(!0),Object(c["e"])(c["a"],null,Object(c["w"])(r.instructorClasses,(function(e){return Object(c["q"])(),Object(c["e"])(u,{style:{background:"#517fc8",margin:"15px 10px"},key:e.courseNumber,class:"course-block",onClick:function(t){return o.router.push("/studentList/".concat(e.semester+"-"+e.courseNumber+"-"+e.courseSection+"-"+e.labSection))}},{default:g((function(){return[Object(c["h"])(i,{size:"11"},{default:g((function(){return[Object(c["h"])(d,{style:{margin:"5px 0px"}},{default:g((function(){return[Object(c["h"])("span",_,Object(c["A"])(s.changeTimeTo12(e.startDateTime)),1),A,Object(c["h"])("span",null,Object(c["A"])(e.title),1),Object(c["h"])("span",null," ( "+Object(c["A"])(e.courseNumber)+" )",1)]})),_:2},1024)]})),_:2},1024),Object(c["h"])(i,{size:"1"},{default:g((function(){return[1!=e.hasIncompleteAttendance?(Object(c["q"])(),Object(c["e"])("span",N,[Object(c["h"])(f,{icon:r.checkmarkCircleOutline,style:{"font-size":"25px","padding-top":"3px"}},null,8,["icon"])])):Object(c["f"])("",!0)]})),_:2},1024)]})),_:2},1032,["onClick"])})),128))]})),_:1})):Object(c["f"])("",!0),Object(c["f"])("",!0)]})),_:1})})),H=(n("b0c0"),n("ac1f"),n("25f0"),n("4d90"),n("1276"),{components:{},data:function(){return{checkmarkCircleOutline:d["e"],classes:[],studentClasses:[],instructorClasses:[],currentDate:"",currentTime:"",chevronForward:d["g"],lockClosedOutline:d["n"],refreshOutline:d["u"],gitCompareOutline:d["m"],msg:"hi",userName:"",firstName:"",lastName:"",userRole:"",userID:"",isStudent:this.$store.getters.getIsStudent,isInstructor:this.$store.getters.getIsInstructor,hasClass:!1,stillLoading:!0}},setup:function(){var e=Object(f["f"])();return{router:e}},methods:{getTodayDate:function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),c=e.getFullYear(),o=e.getHours(),r=e.getMinutes(),s=o>=12?"PM":"AM";return o%=12,o=o||12,r=r<10?"0"+r:r,e=n+"/"+t+"/"+c+" -- "+o+":"+r+" "+s,e},getTodayDay:function(){var e=new Date,t=e.getFullYear().toString(),n=e.getMonth()+1;n<10&&(n="0"+n.toString());var c=e.getDate();return c<10&&(c="0"+c.toString()),e.getDate(),t+n+c},getCurrentTime:function(){var e=new Date,t=e.getHours(),n=e.getMinutes(),c=t>=12?"PM":"AM";t%=12,t=t||12,n=n<10?"0"+n:n,e=t+":"+n+" "+c,console.log("current time is "+e.toString()),this.currentTime=e},getClass:function(){var e=this;this.classes=[],this.userRole="",this.userName="",this.userID="",fetch("https://flexcode.org/classes.json").then((function(e){return e.json()})).then((function(t){e.classes=t.classes,e.userRole=t.role,e.userName=t.name,e.userID=t.id,e.$store.commit("addUserID",t.id)})),console.log("got data"),this.getRole()},updateTime:function(){var e=this;setInterval((function(){e.getCurrentTime()}),6e4)},switchRole:function(){this.isStudent=!this.isStudent;var e=this.$store.getters.getToken;console.log("token is "+e),this.getRole()},loadToken:function(){var e=localStorage.getItem("token");console.log("token in localstorage "+e)},createStorage:function(){localStorage.setItem("token",this.$store.getters.getToken),console.log("token saved to localstorage")},getToken:function(){var e=this,t=localStorage.getItem("token");if(null!=t){console.log("getToken, token is not null - "+t);var n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}};fetch("/cafeweb/mobileApi/authenticate/whoAmI",n).then(function(){var n=Object(l["a"])(regeneratorRuntime.mark((function n(c){var o,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c.json();case 2:if(o=n.sent,c.ok){n.next=6;break}return r=o&&o.message||c.status,n.abrupt("return",Promise.reject(r));case 6:console.log("getToken, token good -"+t),e.getRole();case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(t){e.errorMessage=t,console.error("There was an error! not login - ",t),localStorage.removeItem("token"),window.location.href="/cafeweb/mobile/"}))}else{console.log("getToken, token is null - "+t+".");var c={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer token"}};fetch("/cafeweb/mobileApi/authenticate/token",c).then(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(n){var c,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:if(c=t.sent,n.ok){t.next=6;break}return o=c&&c.message||n.status,t.abrupt("return",Promise.reject(o));case 6:e.$store.commit("addToken",c.token),console.log("saved to state "+e.$store.getters.getToken),localStorage.setItem("token",c.token),console.log("getToken, got token, run getRole - "+c.token),e.getRole();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.errorMessage=t,console.error("There was an error!",t),e.loginError=!0,localStorage.removeItem("token"),window.location.href="/cafeweb/mobile/"}))}},getRole:function(){var e=this;this.stillLoading=!0;var t=localStorage.getItem("token");console.log("getRole, got token - "+t);var n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}};fetch("/cafeweb/mobileApi/authenticate/whoAmI",n).then(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(n){var c,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:if(c=t.sent,n.ok){t.next=6;break}return o=c&&c.message||n.status,t.abrupt("return",Promise.reject(o));case 6:console.log("isInstructor = "+c.isInstructor),console.log("isStudent = "+c.isStudent),e.firstName=c.firstName,e.lastName=c.lastName,e.userID=c.userId,e.isStudent=c.isStudent,e.isInstructor=c.isInstructor,e.$store.commit("addUserName",c.firstName+" "+c.lastName),0==c.isInstructor&&1==c.isStudent?e.getStudentClasses():1==c.isInstructor&&0==c.isStudent?e.getInstructorClasses():1==c.isInstructor&&1==c.isStudent&&(e.getStudentClasses(),e.getInstructorClasses()),r={id:"100"},window.history.replaceState(r,"Attendance","/");case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.errorMessage=t,console.error("There was an error! not login - ",t),localStorage.removeItem("token"),window.location.href="/cafeweb/mobile/"}))},getStudentClasses:function(){var e=this,t=localStorage.getItem("token");console.log("getRole, got token - "+t),console.log("token is "+t);var n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}};fetch("/cafeweb/mobileApi/student/schedule?dateFilter=D",n).then(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(n){var c,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:if(c=t.sent,n.ok){t.next=6;break}return o=c&&c.message||n.status,t.abrupt("return",Promise.reject(o));case 6:console.log("classes = "+JSON.stringify(c)),e.studentClasses=[],e.studentClasses=e.cleanupStudentClassListData(c.events),console.log("new classes = "+JSON.stringify(e.studentClasses)),e.$store.commit("addClasses",e.studentClasses),e.studentClasses.length>=1?e.hasClass=!0:e.hasClass=!1,e.userName=e.$store.getters.getUserName,e.stillLoading=!1;case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.errorMessage=t,console.error("There was an error!",t),e.stillLoading=!1,localStorage.removeItem("token"),window.location.href="/cafeweb/mobile/"}))},requestToken:function(){var e=this,t=this.$store.getters.getToken;console.log("token is "+t+".");var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.getters.getToken}};fetch("/cafeweb/mobileApi/authenticate/token",n).then(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(n){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:c=t.sent,console.log("token = "+JSON.stringify(c.token)),localStorage.setItem("token",c.token),e.$store.commit("addToken",c.token),console.log("write token to localStorage, and save to store");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.errorMessage=t,console.error("There was an error!",t)}))},getInstructorClasses:function(){var e=this,t=localStorage.getItem("token");console.log("token is "+t);var n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}};fetch("/cafeweb/mobileApi/instructor/classes?date="+this.getTodayDay(),n).then(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(n){var c,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:if(c=t.sent,n.ok){t.next=6;break}return o=c&&c.message||n.status,t.abrupt("return",Promise.reject(o));case 6:console.log("ins classes = "+JSON.stringify(c.classes)),e.instructorClasses=[],e.instructorClasses=c.classes,e.$store.commit("addInsClasses",c.classes),console.log("instructor has class = "+e.instructorClasses.length+e.isStudent),e.instructorClasses.length>0?e.hasClass=!0:e.hasClass=!1,e.userName=e.$store.getters.getUserName,e.stillLoading=!1;case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.errorMessage=t,console.error("There was an error!",t),e.stillLoading=!1,localStorage.removeItem("token"),window.location.href="/cafeweb/mobile/"}))},cleanupTime:function(e){if(e.length>=1)for(var t=0;t<e.length;t++)e[t].startDateTime=this.changeTimeTo12(e[t].startDateTime),e[t].endDateTime=this.changeTimeTo12(e[t].endDateTime);return e},changeTimeTo12:function(e){if(null==e||void 0==e||""==e)return"";var t=e.split("T")[1].split(":")[0],n=e.split("T")[1].split(":")[1],c=" AM";return"0"==t[0]?(c=" AM",t=t[1]):t<=11?c=" AM":12==t?c=" PM":t>12&&(c=" PM",t-=12),t+":"+n+c},cleanupStudentClassListData:function(e){if(e.length>0)for(var t=0;t<e.length;t++)if(void 0!=e[t].clockHistory&&e[t].clockHistory.length>0){e[t]["isAbsent"]="";for(var n=0;n<e[t].clockHistory.length;n++)void 0!=e[t].clockHistory[n].isAbsent&&"Y"==e[t].clockHistory[n].isAbsent&&(e[t]["isAbsent"]="Y"),void 0==e[t].clockHistory[n].studentClockInDateTime&&(e[t].clockHistory[n]["studentClockInDateTime"]=""),void 0==e[t].clockHistory[n].studentClockOutDateTime&&(e[t].clockHistory[n]["studentClockOutDateTime"]=""),void 0!=e[t].clockHistory[n].instructorClockInDateTime&&""!=e[t].clockHistory[n].instructorClockInDateTime?e[t].clockHistory[n].studentClockInDateTime=e[t].clockHistory[n].instructorClockInDateTime:e[t].clockHistory[n]["instructorClockInDateTime"]="",void 0!=e[t].clockHistory[n].instructorClockOutDateTime&&""!=e[t].clockHistory[n].instructorClockOutDateTime?e[t].clockHistory[n].studentClockOutDateTime=e[t].clockHistory[n].instructorClockOutDateTime:e[t].clockHistory[n]["instructorClockOutDateTime"]=""}return e}},mounted:function(){this.getToken();var e=new Date;this.currentDate=e.toDateString(),this.getCurrentTime(),this.updateTime(),console.log("today is = "+this.currentDate),console.log("classlistpage mounted");var t=localStorage.getItem("token");console.log("localstorage token="+t)},computed:{loadUserID:function(){return console.log(this.$store.state.classes),this.$store.state.classes.legnth}},beforeMount:function(){console.log("classlistpage beforeMount")},Created:function(){console.log("classlistpage Created")},Updated:function(){console.log("classlistpage Updated")},onUpdated:function(){console.log("onUpdated Updated")},watch:{$route:function(e,t){"classList"==e.name&&this.getToken(),console.log("classlistpage"+e+t)}}});n("2002");H.render=L,H.__scopeId="data-v-216b8bcf";var R=H,M=[{path:"/",redirect:"/classList"},{path:"/classList",component:R,name:"classList"},{path:"/submitTime/:id",component:function(){return n.e("chunk-2d0ae5e3").then(n.bind(null,"0a84"))},props:!0,name:"submitTime"},{path:"/studentList/:id",component:function(){return n.e("chunk-f01c37a2").then(n.bind(null,"2ca4"))},props:!0,name:"studentList"},{path:"/login",component:function(){return n.e("chunk-2d0ac941").then(n.bind(null,"19ad"))},props:!0,name:"login"},{path:"/editTimes/:cid/:sid",component:function(){return n.e("chunk-3e61b606").then(n.bind(null,"565f"))},props:!0,name:"editTimes"}],q=Object(k["a"])({base:"/",mode:"history",history:Object(k["b"])("/"),routes:M}),z=q,$=(n("a4d3"),n("e01a"),n("7db0"),n("5502")),P=Object($["a"])({state:function(){return{classes:[],insClasses:[],studentList:[],userName:"",userRole:"student",userID:"",token:"",school:"",isInstructor:!1,isStudent:!1}},mutations:{addMemory:function(e,t){var n={id:(new Date).toISOString(),title:t.title,image:t.imageUrl,description:t.description};e.memories.unshift(n)},addUserName:function(e,t){e.userName=t},addUserID:function(e,t){e.userID=t},addClasses:function(e,t){e.classes=t},addInsClasses:function(e,t){e.insClasses=t},addToken:function(e,t){e.token=t},addSchool:function(e,t){e.school=t},addStudent:function(e,t){e.isStudent=t},addInstructor:function(e,t){e.isInstructor=t},addStudentList:function(e,t){e.studentList=t}},actions:{addMemory:function(e,t){e.commit("addMemory",t)},addUserName:function(e,t){e.commit("addUserName",t)},addUserID:function(e,t){e.commit("addUserID",t)},addClasses:function(e,t){e.commit("addClasses",t)},addInsClasses:function(e,t){e.commit("addInsClasses",t)},addToken:function(e,t){e.commit("addToken",t)},addSchool:function(e,t){e.commit("addSchool",t)},addStudent:function(e,t){e.commit("addStudent",t)},addInstructor:function(e,t){e.commit("addInstructor",t)},addStudentList:function(e,t){e.commit("addStudentList",t)}},getters:{memories:function(e){return e.memories},memory:function(e){return function(t){return e.memories.find((function(e){return e.id===t}))}},getUserID:function(e){return e.userID},getUserName:function(e){return e.userName},getUserRole:function(e){return e.userRole},getClasses:function(e){return e.classes},getInsClasses:function(e){return e.insClasses},getStudentList:function(e){return e.studentList},cuClass:function(e){return function(t){return e.classes.find((function(e){return e.courseNumber===t}))}},cuInsClass:function(e){return function(t){return e.insClasses.find((function(e){return e.semester+"-"+e.courseNumber+"-"+e.courseSection+"-"+e.labSection===t}))}},cuStudentList:function(e){return function(t){return e.studentList.find((function(e){return e.studentId.toString()==t}))}},getToken:function(e){return e.token},getIsStudent:function(e){return e.isStudent},getIsInstructor:function(e){return e.isInstructor}}}),U=P,B=(n("4b63"),n("4041"),n("51ef"),n("a237"),n("e09e"),n("46e5"),n("98b6"),n("2d22"),n("66b0"),n("ce1f"),n("8c28"),Object(c["d"])(a).use(r["p"]).use(z).use(U));B.component("base-layout",b),z.isReady().then((function(){B.mount("#app")}))},"8c28":function(e,t,n){},"90b7":function(e,t,n){var c={"./ion-action-sheet.entry.js":["754b","chunk-cc885ef2"],"./ion-alert.entry.js":["43c0","chunk-6e1ebba7"],"./ion-app_8.entry.js":["8602","chunk-343d842a"],"./ion-avatar_3.entry.js":["09fa","chunk-4abc2f07"],"./ion-back-button.entry.js":["36dd","chunk-6b3808c8"],"./ion-backdrop.entry.js":["4360","chunk-2d0c0a6f"],"./ion-button_2.entry.js":["d0f6","chunk-7857c4af"],"./ion-card_5.entry.js":["c9d4","chunk-1dc7c1c5"],"./ion-checkbox.entry.js":["e1f3","chunk-6f5ed6b2"],"./ion-chip.entry.js":["7332","chunk-0f4297b0"],"./ion-col_3.entry.js":["fc20","chunk-2d2378b1"],"./ion-datetime_3.entry.js":["5a01","chunk-2b966f81"],"./ion-fab_3.entry.js":["b907","chunk-60445926"],"./ion-img.entry.js":["c070","chunk-2d215cbc"],"./ion-infinite-scroll_2.entry.js":["da5c","chunk-2d228901"],"./ion-input.entry.js":["7ab7","chunk-7885c3cc"],"./ion-item-option_3.entry.js":["3063","chunk-26f4df71"],"./ion-item_8.entry.js":["f5bb","chunk-1fc2d15c"],"./ion-loading.entry.js":["7000","chunk-3582ae12"],"./ion-menu_3.entry.js":["9321","chunk-013061d2"],"./ion-modal.entry.js":["4ef6","chunk-52eabdec"],"./ion-nav_2.entry.js":["be71","chunk-5d875e1a"],"./ion-popover.entry.js":["a82b","chunk-304e7324"],"./ion-progress-bar.entry.js":["d2d3","chunk-4da1c3e4"],"./ion-radio_2.entry.js":["875d","chunk-022a7fbd"],"./ion-range.entry.js":["5c68","chunk-09e1e8fb"],"./ion-refresher_2.entry.js":["9d86","chunk-63f0a1ff"],"./ion-reorder_2.entry.js":["b263","chunk-06a7f5c0"],"./ion-ripple-effect.entry.js":["4938","chunk-2d0c20a0"],"./ion-route_4.entry.js":["9397","chunk-7db91453"],"./ion-searchbar.entry.js":["391e","chunk-1ab29a11"],"./ion-segment_2.entry.js":["7d28","chunk-7299f250"],"./ion-select_3.entry.js":["95f1","chunk-e0927678"],"./ion-slide_2.entry.js":["e716","chunk-2d225f0d"],"./ion-spinner.entry.js":["9c8d","chunk-5f259812"],"./ion-split-pane.entry.js":["3404","chunk-2d0b991b"],"./ion-tab-bar_2.entry.js":["9279","chunk-a115bba0"],"./ion-tab_2.entry.js":["4e97","chunk-5db12fb6"],"./ion-text.entry.js":["2129","chunk-3135c405"],"./ion-textarea.entry.js":["53b2","chunk-c602cac6"],"./ion-toast.entry.js":["2f7b","chunk-0149e7ec"],"./ion-toggle.entry.js":["2143","chunk-68d95220"],"./ion-virtual-scroll.entry.js":["f0c6","chunk-2d22bf33"]};function o(e){if(!n.o(c,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=c[e],o=t[0];return n.e(t[1]).then((function(){return n(o)}))}o.keys=function(){return Object.keys(c)},o.id="90b7",e.exports=o},e1cf:function(e,t,n){var c={"./ion-icon.entry.js":["ec64","chunk-2d2304d2"]};function o(e){if(!n.o(c,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=c[e],o=t[0];return n.e(t[1]).then((function(){return n(o)}))}o.keys=function(){return Object.keys(c)},o.id="e1cf",e.exports=o}});
//# sourceMappingURL=app.78406112.js.map